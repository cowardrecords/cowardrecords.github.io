---
layout: default
head:
  snipcart.html
---
<div class="item" {% if page.bgimge%} style="color:white;" {% endif %}{% if page.bgimage contains 'http' %} style=" background-image: url({{ page.bgimage }}); " {% else %} style=" background-image: url(/img/{{ page.bgimage }});" {% endif %} itemscope itemtype="http://schema.org/Product" >
	
		<div class="large-4 medium-4 small-12 columns">
			<hr>
			<div class="itemtitle">
				<div class="large-6 columns nomargin">
					{% if page.cover contains 'http' %}
		              <img src="{{ page.cover }}" alt="{{ page.name }}" itemprop="image"/>
		            {% else %}
		              <img src="/img/{{ page.cover }}" alt="{{ page.name }}" itemprop="image"/>
		          	{% endif %}
				</div>

				<div class="large-6 columns nomarginlarge">
					<h2 class="randomcolor" itemprop="name">{{page.name}}</h2>
					<p class="randomcolor">{{page.artist}}</p>
		  			<h6 class="randomcolor">{{page.sku}}  // {{page.subtitle}}</h6>
		  		</div>
	  		</div>
	  		<br>
	  		<hr>
	  		
				{{ content }}
			<br>
			<!-- <hr> -->
			{% if page.soldout == true %}
				<h6 class="randomcolor" >sold out</h6>
			{% else if %}	
				{% include shopbutton.html %}
			{% endif %}		
			
			<div class="stik bottomMenu">
				<div  data-options="sticky_on: large">
					{% include shopbutton.html %}
				</div>
			</div>
			<hr>
			
			{% include socialshare.html %}
			<hr>
		</div>
		
		

	
		<audio id="music" preload="true">
		  <source src="http://www.alexkatz.me/codepen/music/interlude.mp3">
		            <source src="http://www.alexkatz.me/codepen/music/interlude.ogg">
		    </audio>
		<div id="audioplayer" class="randomcolorbrd bottomPlayer">
			<div  data-options="sticky_on: large">
		    <button id="pButton" class="play"></button>
			  <div id="timeline">    
			          <div id="playhead" class="randomcolorbtn"></div>
			  </div>
			</div>
		</div>

<script>
	

var music = document.getElementById('music'); // id for audio element
var duration = music.duration; // Duration of audio clip, calculated here for embedding purposes
var pButton = document.getElementById('pButton'); // play button
var playhead = document.getElementById('playhead'); // playhead
var timeline = document.getElementById('timeline'); // timeline

// timeline width adjusted for playhead
var timelineWidth = timeline.offsetWidth - playhead.offsetWidth;

// play button event listenter
pButton.addEventListener("click", play);

// timeupdate event listener
music.addEventListener("timeupdate", timeUpdate, false);

// makes timeline clickable
timeline.addEventListener("click", function(event) {
    moveplayhead(event);
    music.currentTime = duration * clickPercent(event);
}, false);

// returns click as decimal (.77) of the total timelineWidth
function clickPercent(event) {
    return (event.clientX - getPosition(timeline)) / timelineWidth;
}

// makes playhead draggable
playhead.addEventListener('mousedown', mouseDown, false);
window.addEventListener('mouseup', mouseUp, false);

// Boolean value so that audio position is updated only when the playhead is released
var onplayhead = false;

// mouseDown EventListener
function mouseDown() {
    onplayhead = true;
    window.addEventListener('mousemove', moveplayhead, true);
    music.removeEventListener('timeupdate', timeUpdate, false);
}

// mouseUp EventListener
// getting input from all mouse clicks
function mouseUp(event) {
    if (onplayhead == true) {
        moveplayhead(event);
        window.removeEventListener('mousemove', moveplayhead, true);
        // change current time
        music.currentTime = duration * clickPercent(event);
        music.addEventListener('timeupdate', timeUpdate, false);
    }
    onplayhead = false;
}
// mousemove EventListener
// Moves playhead as user drags
function moveplayhead(event) {
    var newMargLeft = event.clientX - getPosition(timeline);

    if (newMargLeft >= 0 && newMargLeft <= timelineWidth) {
        playhead.style.marginLeft = newMargLeft + "px";
    }
    if (newMargLeft < 0) {
        playhead.style.marginLeft = "0px";
    }
    if (newMargLeft > timelineWidth) {
        playhead.style.marginLeft = timelineWidth + "px";
    }
}

// timeUpdate
// Synchronizes playhead position with current point in audio
function timeUpdate() {
    var playPercent = timelineWidth * (music.currentTime / duration);
    playhead.style.marginLeft = playPercent + "px";
    if (music.currentTime == duration) {
        pButton.className = "";
        pButton.className = "play";
    }
}

//Play and Pause
function play() {
    // start music
    if (music.paused) {
        music.play();
        // remove play, add pause
        pButton.className = "";
        pButton.className = "pause";
    } else { // pause music
        music.pause();
        // remove pause, add play
        pButton.className = "";
        pButton.className = "play";
    }
}

// Gets audio file duration
music.addEventListener("canplaythrough", function() {
    duration = music.duration;
}, false);

// getPosition
// Returns elements left position relative to top-left of viewport
function getPosition(el) {
    return el.getBoundingClientRect().left;
}


</script>


		<div class="large-8 medium-8 small-12 columns" id="lowest">
			<hr>

			{% if page.image contains 'http' %}
              <img src="{{ page.image }}" alt="{{ page.name }}" itemprop="image"/>
            {% else %}
              <img src="/img/{{ page.image }}" alt="{{ page.name }}" itemprop="image"/>
          	{% endif %}
			
			<br>
			<br>

			<!-- <ul class="clearing-thumbs small-block-grid-3" data-clearing >
			{% if page.imagethumb %}
				 {% for item in page.imagethumb %}
				 {% if item.link contains 'http' %}
		              <li><img src="{{ item.link }}" alt="{{ page.subtitle }}"/></li>
		            {% else %}
		              <li><img src="/img/{{ item.link }}" alt="{{ page.subtitle }}"/></li>
		          	{% endif %}
	      		 {% endfor %}
	      	{% else%}	
	      	{% endif%}	 
			</ul>  -->
		</div>
		
		<div class="small-12 columns">
		<ul class="clearing-thumbs large-block-grid-2 medium-block-grid-2 small-block-grid-1 " data-clearing >
			{% if page.imagethumb %}
				 {% for item in page.imagethumb %}
				 {% if item.link contains 'http' %}
		              <li><img src="{{ item.link }}" alt="{{ page.subtitle }}"/></li>
		            {% else %}
		              <li><img src="/img/{{ item.link }}" alt="{{ page.subtitle }}"/></li>
		          	{% endif %}
	      		 {% endfor %}
	      	{% else%}	
	      	{% endif%}	 
		</ul>
		</div>
		<!-- <div class="large-4 medium-12 small-12 columns">
		
			{% if page.sound  %}
			<hr>
				<iframe width="100%" height="166" scrolling="no" frameborder="no" src={{ page.sound }}></iframe>	
				<br>
			{% else %}	
			<br>
			{% endif %}
			{% if page.video  %}
				<div class="videoWrapper">
					<iframe width="100%" height="auto" src={{page.video}} frameborder="0" allowfullscreen></iframe>
				</div>
			{% endif %}
		</div>
		 -->
</div>

<div class="row hide-for-medium-only hide-for-small-only" style="width: 800px"></div> <!-- soluzione per andare a capo -->